import{R as p,r as lt,j as O}from"./index-e7iHroSV.js";import{f as M,a as T,m as W,i as B,b as K,A as ct,c as C,d as q,e as ut,g as J,h as et,j as ft,L as pt,u as ht,k as Y,G as dt,l as Q,n as U,D as mt,o as yt,X as rt,Y as at,p as vt,R as bt,C as gt,T as At}from"./generateCategoricalChart-BOupwC9g.js";var xt=["layout","type","stroke","connectNulls","isRange","ref"],Pt=["key"],nt;function $(t){"@babel/helpers - typeof";return $=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},$(t)}function it(t,r){if(t==null)return{};var a=Ot(t,r),e,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)e=i[n],!(r.indexOf(e)>=0)&&Object.prototype.propertyIsEnumerable.call(t,e)&&(a[e]=t[e])}return a}function Ot(t,r){if(t==null)return{};var a={};for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)){if(r.indexOf(e)>=0)continue;a[e]=t[e]}return a}function N(){return N=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(t[e]=a[e])}return t},N.apply(this,arguments)}function Z(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);r&&(e=e.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,e)}return a}function D(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?Z(Object(a),!0).forEach(function(e){j(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Z(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function St(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function tt(t,r){for(var a=0;a<r.length;a++){var e=r[a];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,st(e.key),e)}}function jt(t,r,a){return r&&tt(t.prototype,r),a&&tt(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function wt(t,r,a){return r=F(r),Et(t,ot()?Reflect.construct(r,a||[],F(t).constructor):r.apply(t,a))}function Et(t,r){if(r&&($(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lt(t)}function Lt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ot(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ot=function(){return!!t})()}function F(t){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},F(t)}function Dt(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&X(t,r)}function X(t,r){return X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},X(t,r)}function j(t,r,a){return r=st(r),r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function st(t){var r=kt(t,"string");return $(r)=="symbol"?r:r+""}function kt(t,r){if($(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var e=a.call(t,r);if($(e)!="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var k=function(t){function r(){var a;St(this,r);for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return a=wt(this,r,[].concat(n)),j(a,"state",{isAnimationFinished:!0}),j(a,"id",ht("recharts-area-")),j(a,"handleAnimationEnd",function(){var o=a.props.onAnimationEnd;a.setState({isAnimationFinished:!0}),Y(o)&&o()}),j(a,"handleAnimationStart",function(){var o=a.props.onAnimationStart;a.setState({isAnimationFinished:!1}),Y(o)&&o()}),a}return Dt(r,t),jt(r,[{key:"renderDots",value:function(e,n,i){var o=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(o&&!s)return null;var c=this.props,l=c.dot,f=c.points,u=c.dataKey,h=M(this.props,!1),g=M(l,!0),A=f.map(function(y,S){var v=D(D(D({key:"dot-".concat(S),r:3},h),g),{},{index:S,cx:y.x,cy:y.y,dataKey:u,value:y.value,payload:y.payload,points:f});return r.renderDotItem(l,v)}),x={clipPath:e?"url(#clipPath-".concat(n?"":"dots-").concat(i,")"):null};return p.createElement(T,N({className:"recharts-area-dots"},x),A)}},{key:"renderHorizontalRect",value:function(e){var n=this.props,i=n.baseLine,o=n.points,s=n.strokeWidth,c=o[0].x,l=o[o.length-1].x,f=e*Math.abs(c-l),u=W(o.map(function(h){return h.y||0}));return B(i)&&typeof i=="number"?u=Math.max(i,u):i&&Array.isArray(i)&&i.length&&(u=Math.max(W(i.map(function(h){return h.y||0})),u)),B(u)?p.createElement("rect",{x:c<l?c:c-f,y:0,width:f,height:Math.floor(u+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(e){var n=this.props,i=n.baseLine,o=n.points,s=n.strokeWidth,c=o[0].y,l=o[o.length-1].y,f=e*Math.abs(c-l),u=W(o.map(function(h){return h.x||0}));return B(i)&&typeof i=="number"?u=Math.max(i,u):i&&Array.isArray(i)&&i.length&&(u=Math.max(W(i.map(function(h){return h.x||0})),u)),B(u)?p.createElement("rect",{x:0,y:c<l?c:c-f,width:u+(s?parseInt("".concat(s),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(e){var n=this.props.layout;return n==="vertical"?this.renderVerticalRect(e):this.renderHorizontalRect(e)}},{key:"renderAreaStatically",value:function(e,n,i,o){var s=this.props,c=s.layout,l=s.type,f=s.stroke,u=s.connectNulls,h=s.isRange;s.ref;var g=it(s,xt);return p.createElement(T,{clipPath:i?"url(#clipPath-".concat(o,")"):null},p.createElement(K,N({},M(g,!0),{points:e,connectNulls:u,type:l,baseLine:n,layout:c,stroke:"none",className:"recharts-area-area"})),f!=="none"&&p.createElement(K,N({},M(this.props,!1),{className:"recharts-area-curve",layout:c,type:l,connectNulls:u,fill:"none",points:e})),f!=="none"&&h&&p.createElement(K,N({},M(this.props,!1),{className:"recharts-area-curve",layout:c,type:l,connectNulls:u,fill:"none",points:n})))}},{key:"renderAreaWithAnimation",value:function(e,n){var i=this,o=this.props,s=o.points,c=o.baseLine,l=o.isAnimationActive,f=o.animationBegin,u=o.animationDuration,h=o.animationEasing,g=o.animationId,A=this.state,x=A.prevPoints,y=A.prevBaseLine;return p.createElement(ct,{begin:f,duration:u,isActive:l,easing:h,from:{t:0},to:{t:1},key:"area-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var v=S.t;if(x){var E=x.length/s.length,d=s.map(function(P,R){var _=Math.floor(R*E);if(x[_]){var L=x[_],z=C(L.x,P.x),I=C(L.y,P.y);return D(D({},P),{},{x:z(v),y:I(v)})}return P}),m;if(B(c)&&typeof c=="number"){var b=C(y,c);m=b(v)}else if(q(c)||ut(c)){var w=C(y,0);m=w(v)}else m=c.map(function(P,R){var _=Math.floor(R*E);if(y[_]){var L=y[_],z=C(L.x,P.x),I=C(L.y,P.y);return D(D({},P),{},{x:z(v),y:I(v)})}return P});return i.renderAreaStatically(d,m,e,n)}return p.createElement(T,null,p.createElement("defs",null,p.createElement("clipPath",{id:"animationClipPath-".concat(n)},i.renderClipRect(v))),p.createElement(T,{clipPath:"url(#animationClipPath-".concat(n,")")},i.renderAreaStatically(s,c,e,n)))})}},{key:"renderArea",value:function(e,n){var i=this.props,o=i.points,s=i.baseLine,c=i.isAnimationActive,l=this.state,f=l.prevPoints,u=l.prevBaseLine,h=l.totalLength;return c&&o&&o.length&&(!f&&h>0||!J(f,o)||!J(u,s))?this.renderAreaWithAnimation(e,n):this.renderAreaStatically(o,s,e,n)}},{key:"render",value:function(){var e,n=this.props,i=n.hide,o=n.dot,s=n.points,c=n.className,l=n.top,f=n.left,u=n.xAxis,h=n.yAxis,g=n.width,A=n.height,x=n.isAnimationActive,y=n.id;if(i||!s||!s.length)return null;var S=this.state.isAnimationFinished,v=s.length===1,E=et("recharts-area",c),d=u&&u.allowDataOverflow,m=h&&h.allowDataOverflow,b=d||m,w=q(y)?this.id:y,P=(e=M(o,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},R=P.r,_=R===void 0?3:R,L=P.strokeWidth,z=L===void 0?2:L,I=ft(o)?o:{},G=I.clipDot,H=G===void 0?!0:G,V=_*2+z;return p.createElement(T,{className:E},d||m?p.createElement("defs",null,p.createElement("clipPath",{id:"clipPath-".concat(w)},p.createElement("rect",{x:d?f:f-g/2,y:m?l:l-A/2,width:d?g:g*2,height:m?A:A*2})),!H&&p.createElement("clipPath",{id:"clipPath-dots-".concat(w)},p.createElement("rect",{x:f-V/2,y:l-V/2,width:g+V,height:A+V}))):null,v?null:this.renderArea(b,w),(o||v)&&this.renderDots(b,H,w),(!x||S)&&pt.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(e,n){return e.animationId!==n.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,curBaseLine:e.baseLine,prevPoints:n.curPoints,prevBaseLine:n.curBaseLine}:e.points!==n.curPoints||e.baseLine!==n.curBaseLine?{curPoints:e.points,curBaseLine:e.baseLine}:null}}])}(lt.PureComponent);nt=k;j(k,"displayName","Area");j(k,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!dt.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});j(k,"getBaseValue",function(t,r,a,e){var n=t.layout,i=t.baseValue,o=r.props.baseValue,s=o??i;if(B(s)&&typeof s=="number")return s;var c=n==="horizontal"?e:a,l=c.scale.domain();if(c.type==="number"){var f=Math.max(l[0],l[1]),u=Math.min(l[0],l[1]);return s==="dataMin"?u:s==="dataMax"||f<0?f:Math.max(Math.min(l[0],l[1]),0)}return s==="dataMin"?l[0]:s==="dataMax"?l[1]:l[0]});j(k,"getComposedData",function(t){var r=t.props,a=t.item,e=t.xAxis,n=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,s=t.bandSize,c=t.dataKey,l=t.stackedData,f=t.dataStartIndex,u=t.displayedData,h=t.offset,g=r.layout,A=l&&l.length,x=nt.getBaseValue(r,a,e,n),y=g==="horizontal",S=!1,v=u.map(function(d,m){var b;A?b=l[f+m]:(b=Q(d,c),Array.isArray(b)?S=!0:b=[x,b]);var w=b[1]==null||A&&Q(d,c)==null;return y?{x:U({axis:e,ticks:i,bandSize:s,entry:d,index:m}),y:w?null:n.scale(b[1]),value:b,payload:d}:{x:w?null:e.scale(b[1]),y:U({axis:n,ticks:o,bandSize:s,entry:d,index:m}),value:b,payload:d}}),E;return A||S?E=v.map(function(d){var m=Array.isArray(d.value)?d.value[0]:null;return y?{x:d.x,y:m!=null&&d.y!=null?n.scale(m):null}:{x:m!=null?e.scale(m):null,y:d.y}}):E=y?n.scale(x):e.scale(x),D({points:v,baseLine:E,layout:g,isRange:S},h)});j(k,"renderDotItem",function(t,r){var a;if(p.isValidElement(t))a=p.cloneElement(t,r);else if(Y(t))a=t(r);else{var e=et("recharts-area-dot",typeof t!="boolean"?t.className:""),n=r.key,i=it(r,Pt);a=p.createElement(mt,N({},i,{key:n,className:e}))}return a});var _t=yt({chartName:"AreaChart",GraphicalChild:k,axisComponents:[{axisType:"xAxis",AxisComp:rt},{axisType:"yAxis",AxisComp:at}],formatAxisMap:vt});const Mt=({data:t})=>{const r=p.useMemo(()=>{const a=t.length<=30,e={};return t.forEach(({date:n,laidOff:i})=>{const o=a?`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}-${String(n.getDate()).padStart(2,"0")}`:`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}`;e[o]=(e[o]||0)+i}),Object.entries(e).map(([n,i])=>({period:n,totalLayoffs:i})).sort((n,i)=>new Date(n.period).getTime()-new Date(i.period).getTime())},[t]);return r.length===0?O.jsx("div",{children:"Loading chart..."}):O.jsxs("div",{style:{width:"100%",height:350},children:[O.jsx("h2",{className:"text-center text-xl mb-4",children:t.length<=30?"Daily Layoffs":"Monthly Layoffs"}),O.jsx(bt,{children:O.jsxs(_t,{data:r,margin:{top:20,right:0,left:0,bottom:20},children:[O.jsx(gt,{strokeDasharray:"3 3"}),O.jsx(rt,{dataKey:"period",tick:{fontSize:11}}),O.jsx(at,{dataKey:"totalLayoffs",tick:{fontSize:11},tickFormatter:a=>a.toLocaleString()}),O.jsx(At,{contentStyle:{fontSize:11},labelStyle:{fontSize:11},formatter:a=>[`No. of Layoffs: ${a.toLocaleString()}`]}),O.jsx(k,{type:"monotone",dataKey:"totalLayoffs",stroke:"#8884d8",fill:"#8884d8",strokeWidth:2,label:({x:a,y:e,value:n})=>r.map(o=>o.totalLayoffs).sort((o,s)=>s-o).slice(0,5).includes(n)?O.jsx("text",{x:a,y:e-10,fill:"#000",fontSize:10,textAnchor:"middle",children:n.toLocaleString()}):null})]})})]})};export{Mt as default};

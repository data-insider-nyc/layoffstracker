import{u as h,j as t,R as f}from"./index-vh-KZKDG.js";import{R as c,B as m,C as x,X as d,Y as g,T as y,a as j,L as p}from"./BarChart-CDjK0vW1.js";const u=({data:o})=>{const n=f.useMemo(()=>{const a={};o.forEach(({date:e,laidOff:s})=>{const i=`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`;a[i]=(a[i]||0)+s});const r=new Date,l=new Date(r.getFullYear()-2,r.getMonth()+1);return Object.entries(a).map(([e,s])=>({month:e,totalLayoffs:s})).filter(({month:e})=>new Date(e)>=l).sort((e,s)=>new Date(e.month).getTime()-new Date(s.month).getTime())},[o]);return n.length===0?t.jsx("div",{children:"Loading chart..."}):t.jsxs("div",{style:{width:"100%",height:400},children:[t.jsx("h2",{className:"text-center text-xl mb-4",children:"Monthly Layoffs"}),t.jsx(c,{children:t.jsxs(m,{data:n,margin:{top:10,right:50,left:50,bottom:10},children:[t.jsx(x,{strokeDasharray:"3 3"}),t.jsx(d,{dataKey:"month",tick:{fontSize:10}}),t.jsx(g,{tick:{fontSize:10}}),t.jsx(y,{}),t.jsx(j,{dataKey:"totalLayoffs",fill:"#8884d8",children:t.jsx(p,{dataKey:"totalLayoffs",position:"top",formatter:a=>a.toLocaleString(),style:{fontSize:10,fill:"#333"}})})]})})]})},w=()=>{const o=h();return t.jsx(u,{data:o})};export{w as default};

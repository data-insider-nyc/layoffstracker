import{R as p,r as lt,j as S}from"./index-Bi1YoSo5.js";import{a as M,b as z,m as V,i as B,c as K,A as ct,d as C,e as q,h as ut,j as J,k as et,l as ft,L as pt,u as ht,n as Y,G as dt,o as Q,p as U,D as mt,g as yt,X as rt,Y as at,f as vt,R as bt,C as gt,T as At}from"./generateCategoricalChart-vgAMbfSD.js";var xt=["layout","type","stroke","connectNulls","isRange","ref"],Pt=["key"],nt;function I(t){"@babel/helpers - typeof";return I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},I(t)}function it(t,r){if(t==null)return{};var n=Ot(t,r),e,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)e=i[a],!(r.indexOf(e)>=0)&&Object.prototype.propertyIsEnumerable.call(t,e)&&(n[e]=t[e])}return n}function Ot(t,r){if(t==null)return{};var n={};for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)){if(r.indexOf(e)>=0)continue;n[e]=t[e]}return n}function N(){return N=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}return t},N.apply(this,arguments)}function Z(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);r&&(e=e.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,e)}return n}function k(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Z(Object(n),!0).forEach(function(e){j(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function St(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function tt(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,st(e.key),e)}}function jt(t,r,n){return r&&tt(t.prototype,r),n&&tt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function wt(t,r,n){return r=F(r),Et(t,ot()?Reflect.construct(r,n||[],F(t).constructor):r.apply(t,n))}function Et(t,r){if(r&&(I(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dt(t)}function Dt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ot(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ot=function(){return!!t})()}function F(t){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},F(t)}function kt(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&X(t,r)}function X(t,r){return X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,a){return e.__proto__=a,e},X(t,r)}function j(t,r,n){return r=st(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function st(t){var r=Lt(t,"string");return I(r)=="symbol"?r:r+""}function Lt(t,r){if(I(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var e=n.call(t,r);if(I(e)!="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var L=function(t){function r(){var n;St(this,r);for(var e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return n=wt(this,r,[].concat(a)),j(n,"state",{isAnimationFinished:!0}),j(n,"id",ht("recharts-area-")),j(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Y(o)&&o()}),j(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Y(o)&&o()}),n}return kt(r,t),jt(r,[{key:"renderDots",value:function(e,a,i){var o=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(o&&!s)return null;var c=this.props,l=c.dot,f=c.points,u=c.dataKey,h=M(this.props,!1),g=M(l,!0),A=f.map(function(y,O){var v=k(k(k({key:"dot-".concat(O),r:3},h),g),{},{index:O,cx:y.x,cy:y.y,dataKey:u,value:y.value,payload:y.payload,points:f});return r.renderDotItem(l,v)}),x={clipPath:e?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return p.createElement(z,N({className:"recharts-area-dots"},x),A)}},{key:"renderHorizontalRect",value:function(e){var a=this.props,i=a.baseLine,o=a.points,s=a.strokeWidth,c=o[0].x,l=o[o.length-1].x,f=e*Math.abs(c-l),u=V(o.map(function(h){return h.y||0}));return B(i)&&typeof i=="number"?u=Math.max(i,u):i&&Array.isArray(i)&&i.length&&(u=Math.max(V(i.map(function(h){return h.y||0})),u)),B(u)?p.createElement("rect",{x:c<l?c:c-f,y:0,width:f,height:Math.floor(u+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(e){var a=this.props,i=a.baseLine,o=a.points,s=a.strokeWidth,c=o[0].y,l=o[o.length-1].y,f=e*Math.abs(c-l),u=V(o.map(function(h){return h.x||0}));return B(i)&&typeof i=="number"?u=Math.max(i,u):i&&Array.isArray(i)&&i.length&&(u=Math.max(V(i.map(function(h){return h.x||0})),u)),B(u)?p.createElement("rect",{x:0,y:c<l?c:c-f,width:u+(s?parseInt("".concat(s),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(e){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(e):this.renderHorizontalRect(e)}},{key:"renderAreaStatically",value:function(e,a,i,o){var s=this.props,c=s.layout,l=s.type,f=s.stroke,u=s.connectNulls,h=s.isRange;s.ref;var g=it(s,xt);return p.createElement(z,{clipPath:i?"url(#clipPath-".concat(o,")"):null},p.createElement(K,N({},M(g,!0),{points:e,connectNulls:u,type:l,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),f!=="none"&&p.createElement(K,N({},M(this.props,!1),{className:"recharts-area-curve",layout:c,type:l,connectNulls:u,fill:"none",points:e})),f!=="none"&&h&&p.createElement(K,N({},M(this.props,!1),{className:"recharts-area-curve",layout:c,type:l,connectNulls:u,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(e,a){var i=this,o=this.props,s=o.points,c=o.baseLine,l=o.isAnimationActive,f=o.animationBegin,u=o.animationDuration,h=o.animationEasing,g=o.animationId,A=this.state,x=A.prevPoints,y=A.prevBaseLine;return p.createElement(ct,{begin:f,duration:u,isActive:l,easing:h,from:{t:0},to:{t:1},key:"area-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(O){var v=O.t;if(x){var E=x.length/s.length,d=s.map(function(P,R){var _=Math.floor(R*E);if(x[_]){var D=x[_],T=C(D.x,P.x),$=C(D.y,P.y);return k(k({},P),{},{x:T(v),y:$(v)})}return P}),m;if(B(c)&&typeof c=="number"){var b=C(y,c);m=b(v)}else if(q(c)||ut(c)){var w=C(y,0);m=w(v)}else m=c.map(function(P,R){var _=Math.floor(R*E);if(y[_]){var D=y[_],T=C(D.x,P.x),$=C(D.y,P.y);return k(k({},P),{},{x:T(v),y:$(v)})}return P});return i.renderAreaStatically(d,m,e,a)}return p.createElement(z,null,p.createElement("defs",null,p.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(v))),p.createElement(z,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(s,c,e,a)))})}},{key:"renderArea",value:function(e,a){var i=this.props,o=i.points,s=i.baseLine,c=i.isAnimationActive,l=this.state,f=l.prevPoints,u=l.prevBaseLine,h=l.totalLength;return c&&o&&o.length&&(!f&&h>0||!J(f,o)||!J(u,s))?this.renderAreaWithAnimation(e,a):this.renderAreaStatically(o,s,e,a)}},{key:"render",value:function(){var e,a=this.props,i=a.hide,o=a.dot,s=a.points,c=a.className,l=a.top,f=a.left,u=a.xAxis,h=a.yAxis,g=a.width,A=a.height,x=a.isAnimationActive,y=a.id;if(i||!s||!s.length)return null;var O=this.state.isAnimationFinished,v=s.length===1,E=et("recharts-area",c),d=u&&u.allowDataOverflow,m=h&&h.allowDataOverflow,b=d||m,w=q(y)?this.id:y,P=(e=M(o,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},R=P.r,_=R===void 0?3:R,D=P.strokeWidth,T=D===void 0?2:D,$=ft(o)?o:{},G=$.clipDot,H=G===void 0?!0:G,W=_*2+T;return p.createElement(z,{className:E},d||m?p.createElement("defs",null,p.createElement("clipPath",{id:"clipPath-".concat(w)},p.createElement("rect",{x:d?f:f-g/2,y:m?l:l-A/2,width:d?g:g*2,height:m?A:A*2})),!H&&p.createElement("clipPath",{id:"clipPath-dots-".concat(w)},p.createElement("rect",{x:f-W/2,y:l-W/2,width:g+W,height:A+W}))):null,v?null:this.renderArea(b,w),(o||v)&&this.renderDots(b,H,w),(!x||O)&&pt.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(e,a){return e.animationId!==a.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,curBaseLine:e.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:e.points!==a.curPoints||e.baseLine!==a.curBaseLine?{curPoints:e.points,curBaseLine:e.baseLine}:null}}])}(lt.PureComponent);nt=L;j(L,"displayName","Area");j(L,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!dt.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});j(L,"getBaseValue",function(t,r,n,e){var a=t.layout,i=t.baseValue,o=r.props.baseValue,s=o??i;if(B(s)&&typeof s=="number")return s;var c=a==="horizontal"?e:n,l=c.scale.domain();if(c.type==="number"){var f=Math.max(l[0],l[1]),u=Math.min(l[0],l[1]);return s==="dataMin"?u:s==="dataMax"||f<0?f:Math.max(Math.min(l[0],l[1]),0)}return s==="dataMin"?l[0]:s==="dataMax"?l[1]:l[0]});j(L,"getComposedData",function(t){var r=t.props,n=t.item,e=t.xAxis,a=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,s=t.bandSize,c=t.dataKey,l=t.stackedData,f=t.dataStartIndex,u=t.displayedData,h=t.offset,g=r.layout,A=l&&l.length,x=nt.getBaseValue(r,n,e,a),y=g==="horizontal",O=!1,v=u.map(function(d,m){var b;A?b=l[f+m]:(b=Q(d,c),Array.isArray(b)?O=!0:b=[x,b]);var w=b[1]==null||A&&Q(d,c)==null;return y?{x:U({axis:e,ticks:i,bandSize:s,entry:d,index:m}),y:w?null:a.scale(b[1]),value:b,payload:d}:{x:w?null:e.scale(b[1]),y:U({axis:a,ticks:o,bandSize:s,entry:d,index:m}),value:b,payload:d}}),E;return A||O?E=v.map(function(d){var m=Array.isArray(d.value)?d.value[0]:null;return y?{x:d.x,y:m!=null&&d.y!=null?a.scale(m):null}:{x:m!=null?e.scale(m):null,y:d.y}}):E=y?a.scale(x):e.scale(x),k({points:v,baseLine:E,layout:g,isRange:O},h)});j(L,"renderDotItem",function(t,r){var n;if(p.isValidElement(t))n=p.cloneElement(t,r);else if(Y(t))n=t(r);else{var e=et("recharts-area-dot",typeof t!="boolean"?t.className:""),a=r.key,i=it(r,Pt);n=p.createElement(mt,N({},i,{key:a,className:e}))}return n});var _t=yt({chartName:"AreaChart",GraphicalChild:L,axisComponents:[{axisType:"xAxis",AxisComp:rt},{axisType:"yAxis",AxisComp:at}],formatAxisMap:vt});const Mt=({data:t})=>{const r=p.useMemo(()=>{const n=t.length<=30,e={};return t.forEach(({date:a,laidOff:i})=>{const o=n?`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}`:`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}`;e[o]=(e[o]||0)+i}),Object.entries(e).map(([a,i])=>({period:a,totalLayoffs:i})).sort((a,i)=>new Date(a.period).getTime()-new Date(i.period).getTime())},[t]);return r.length===0?S.jsx("div",{children:"Loading chart..."}):S.jsxs("div",{style:{width:"100%",height:350},children:[S.jsx("h2",{className:"text-center text-xl mb-4",children:t.length<=30?"Daily Layoffs":"Monthly Layoffs"}),S.jsx(bt,{children:S.jsxs(_t,{data:r,margin:{top:20,right:0,left:0,bottom:20},children:[S.jsx(gt,{strokeDasharray:"3 3"}),S.jsx(rt,{dataKey:"period",tick:{fontSize:11}}),S.jsx(at,{dataKey:"totalLayoffs",tick:{fontSize:11},tickFormatter:n=>n.toLocaleString()}),S.jsx(At,{contentStyle:{fontSize:11},labelStyle:{fontSize:11}}),S.jsx(L,{type:"monotone",dataKey:"totalLayoffs",stroke:"#8884d8",fill:"#8884d8",strokeWidth:2})]})})]})};export{Mt as default};

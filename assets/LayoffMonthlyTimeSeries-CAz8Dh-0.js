import{R as f,j as a}from"./index-BM4hxjPr.js";import{R as c,B as x,C as g,X as h,Y as p,T as y,a as E,L as m}from"./BarChart-CzmsTnk_.js";const d=({data:s,isDarkMode:t=!1})=>{const n=f.useMemo(()=>{const o=s.length<=30,i={};return s.forEach(({date:e,laidOff:r})=>{const l=o?`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`:`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`;i[l]=(i[l]||0)+r}),Object.entries(i).map(([e,r])=>({period:e,totalLayoffs:r})).sort((e,r)=>new Date(e.period).getTime()-new Date(r.period).getTime())},[s]);return n.length===0?a.jsx("div",{className:"text-gray-900 dark:text-white",children:"Loading chart..."}):a.jsxs("div",{style:{width:"100%",height:350},children:[a.jsx("h2",{className:"text-center text-xl mb-4 text-gray-900 dark:text-white",children:s.length<=30?"Daily Layoffs":"Monthly Layoffs"}),a.jsx(c,{children:a.jsxs(x,{data:n,margin:{top:20,right:0,left:0,bottom:20},children:[a.jsx(g,{strokeDasharray:"3 3",stroke:t?"#4B5563":"#E5E7EB"}),a.jsx(h,{dataKey:"period",tick:{fontSize:11,fill:t?"#E5E7EB":"#374151"},axisLine:{stroke:t?"#6B7280":"#D1D5DB"},tickLine:{stroke:t?"#6B7280":"#D1D5DB"}}),a.jsx(p,{dataKey:"totalLayoffs",tick:{fontSize:11,fill:t?"#E5E7EB":"#374151"},axisLine:{stroke:t?"#6B7280":"#D1D5DB"},tickLine:{stroke:t?"#6B7280":"#D1D5DB"},tickFormatter:o=>o.toLocaleString()}),a.jsx(y,{contentStyle:{fontSize:11,backgroundColor:t?"#1F2937":"#FFFFFF",border:`1px solid ${t?"#374151":"#E5E7EB"}`,borderRadius:"6px",color:t?"#E5E7EB":"#374151"},labelStyle:{fontSize:11,color:t?"#E5E7EB":"#374151"},formatter:o=>[`No. of Layoffs: ${o.toLocaleString()}`]}),a.jsx(E,{dataKey:"totalLayoffs",fill:t?"#60A5FA":"#8884d8",radius:[4,4,0,0],children:a.jsx(m,{dataKey:"totalLayoffs",position:"top",formatter:o=>n.map(e=>e.totalLayoffs).sort((e,r)=>r-e).slice(0,5).includes(o)?o.toLocaleString():"",style:{fontSize:10,fill:t?"#E5E7EB":"#333"}})})]})})]})};export{d as default};
